<html>
	<head>
		<title>launch-wasm</title>
		<meta charset="utf-8">
		<script src="wasm_exec.js"></script>
		<script>
			async function run() {
				const go = new Go();
				const fetchPromise = fetch("main.wasm");
				let instantiatePromise;

				// Detect support for WebAssembly.instantiateStreaming
				const isInstantiateStreamingSupported = typeof WebAssembly.instantiateStreaming == "function";

				if (isInstantiateStreamingSupported) {
				// Streaming supported
				instantiatePromise = WebAssembly.instantiateStreaming(
					fetchPromise,
					go.importObject
				);
				} else {
				// No streaming supported â€” old method
				instantiatePromise = fetchPromise
					.then(response => response.arrayBuffer())
					.then(buffer => WebAssembly.instantiate(buffer, go.importObject));
				}

				const result = await instantiatePromise;

				go.run(result.instance)
			}

			run()
		</script>
	<style>
body,pre { margin:0;padding:0; }
#mycanvas {
	position:fixed;
	background-color: black;
	opacity:0.9;
	width: 100%;
	height:100%;
	top:0;right:0;bottom:0;left:0;
}
	</style>
	</head>
	<body>
		<canvas id="mycanvas"></canvas>
	</body>
</html>